#ifndef MAZE_H
#define MAZE_H

#define BLOCK_L 31
#define BLOCK_C 28

#include "opengl.hpp"
#include <iostream>
#include <math.h>

enum orientation { up, left, down, right };

class Maze {
 private:
  int matrix[BLOCK_L][BLOCK_C] = {
      {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
       -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1},
      {-1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, -1,
       -1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, -1},
      {-1, 10, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, 10, -1},
      {-1, 50, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, 50, -1},
      {-1, 10, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, 10, -1},
      {-1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
       10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, -1},
      {-1, 10, -1, -1, -1, -1, 10, -1, -1, 10, -1, -1, -1, -1,
       -1, -1, -1, -1, 10, -1, -1, 10, -1, -1, -1, -1, 10, -1},
      {-1, 10, -1, -1, -1, -1, 10, -1, -1, 10, -1, -1, -1, -1,
       -1, -1, -1, -1, 10, -1, -1, 10, -1, -1, -1, -1, 10, -1},
      {-1, 10, 10, 10, 10, 10, 10, -1, -1, 10, 10, 10, 10, -1,
       -1, 10, 10, 10, 10, -1, -1, 10, 10, 10, 10, 10, 10, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 0,  -1,
       -1, 0,  -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 0,  -1,
       -1, 0,  -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  0,  0,  0,  0,
       0,  0,  0,  0,  0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  -1, -1, -1, -2,
       -2, -1, -1, -1, 0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  -1, 0,  0,  0,
       0,  0,  0,  -1, 0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {0, 0, 0, 0,  0, 0, 10, 0,  0, 0, -1, 0, 0, 0,
       0, 0, 0, -1, 0, 0, 0,  10, 0, 0, 0,  0, 0, 0},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  -1, 0,  0,  0,
       0,  0,  0,  -1, 0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  -1, -1, -1, -1,
       -1, -1, -1, -1, 0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  0,  0,  0,  0,
       0,  0,  0,  0,  0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  -1, -1, -1, -1,
       -1, -1, -1, -1, 0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, -1, -1, -1, -1, -1, 10, -1, -1, 0,  -1, -1, -1, -1,
       -1, -1, -1, -1, 0,  -1, -1, 10, -1, -1, -1, -1, -1, -1},
      {-1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, -1,
       -1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, -1},
      {-1, 10, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, 10, -1},
      {-1, 10, -1, -1, -1, -1, 10, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, 10, -1, -1, -1, -1, 10, -1},
      {-1, 50, 10, 10, -1, -1, 10, 10, 10, 10, 10, 10, 10, 0,
       0,  10, 10, 10, 10, 10, 10, 10, -1, -1, 10, 10, 50, -1},
      {-1, -1, -1, 10, -1, -1, 10, -1, -1, 10, -1, -1, -1, -1,
       -1, -1, -1, -1, 10, -1, -1, 10, -1, -1, 10, -1, -1, -1},
      {-1, -1, -1, 10, -1, -1, 10, -1, -1, 10, -1, -1, -1, -1,
       -1, -1, -1, -1, 10, -1, -1, 10, -1, -1, 10, -1, -1, -1},
      {-1, 10, 10, 10, 10, 10, 10, -1, -1, 10, 10, 10, 10, -1,
       -1, 10, 10, 10, 10, -1, -1, 10, 10, 10, 10, 10, 10, -1},
      {-1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1},
      {-1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1,
       -1, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, 10, -1},
      {-1, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10,
       10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, -1},
      {-1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,
       -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1}};
  int numberOfDotsRemaining;

 public:
  glm::vec2 getCenter(glm::vec3 position);
  glm::ivec2 getBlock(glm::vec2 center);

  glm::ivec2 blockUp(glm::ivec2 block);
  glm::ivec2 blockLeft(glm::ivec2 block);
  glm::ivec2 blockDown(glm::ivec2 block);
  glm::ivec2 blockRight(glm::ivec2 block);

  bool valid(glm::ivec2 block);

  int eat(glm::ivec2 block);

  float euclidianDist(glm::vec3 position1, glm::vec3 position2);

  void movePacman(glm::vec3 position);

  void moveGhost(glm::vec3 position);

  Maze();
};

#endif
